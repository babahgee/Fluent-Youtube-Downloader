{"version":3,"file":"handlers.spa-handler.dist.js","mappings":"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","sources":["webpack://fluent-youtube-downloader/./application/scripts/handlers/dialog.ts","webpack://fluent-youtube-downloader/webpack/bootstrap","webpack://fluent-youtube-downloader/webpack/runtime/define property getters","webpack://fluent-youtube-downloader/webpack/runtime/hasOwnProperty shorthand","webpack://fluent-youtube-downloader/./application/scripts/handlers/spa-handler.ts"],"sourcesContent":["import { FluentButton } from \"./fluent-renderer\";\r\n\r\nconst dialogContainer: HTMLDivElement | null = document.querySelector(\".app-dialogs\");\r\n\r\nlet activeDialog: HTMLDivElement | null = null;\r\n\r\nfunction constructBaseDomElement() {\r\n\r\n\tconst dialogElement = document.createElement(\"div\");\r\n\tdialogElement.className = \"dialog\";\r\n\r\n\tdialogElement.innerHTML = `\r\n\t\t<div class=\"dialog__container container\">\r\n            <div class=\"dialog__modal\">\r\n                <div class=\"dialog__modal__titlebar\">\r\n                    <div class=\"dialog__modal__titlebar__container\">\r\n                        <div class=\"dialog__modal__titlebar__text\"></div>\r\n                        <img class=\"dialog__modal__titlebar__icon\" src=\"/static/media/icons/windows-icon-close.png\" alt=\"Close dialog\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"dialog__modal__content\">\r\n                    <div class=\"dialog__modal__content__container\">\r\n                        <div class=\"dialog__modal__content__icon\"></div>\r\n                        <div class=\"dialog__modal__content__text\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\t`;\r\n\r\n    dialogElement.querySelector<HTMLDivElement>(\".dialog__modal__titlebar__icon\")?.addEventListener(\"click\", hideActiveDialog);\r\n\r\n    return dialogElement;\r\n}\r\n\r\nfunction setTitle(mainElement: HTMLDivElement, title: string) {\r\n\r\n    const titlebarTextElement: HTMLDivElement | null = mainElement.querySelector(\".dialog__modal__titlebar__text\");\r\n\r\n    if (titlebarTextElement === null) return;\r\n\r\n    titlebarTextElement.innerText = title;\r\n}\r\n\r\nfunction setMessage(mainElement: HTMLDivElement, message: string | string[]) {\r\n\r\n    const contentTextElement: HTMLDivElement | null = mainElement.querySelector(\".dialog__modal__content__text\");\r\n\r\n    if (contentTextElement === null) return;\r\n\r\n    const spanElement = document.createElement(\"span\");\r\n\r\n    spanElement.innerHTML = Array.isArray(message) ? message.join(\"<br /><br />\") : message;\r\n\r\n    contentTextElement.appendChild(spanElement);\r\n   \r\n}\r\n\r\nfunction setIcon(mainElement: HTMLDivElement, iconType: DialogIcon) {\r\n\r\n    const contentIconElement = mainElement.querySelector(\".dialog__modal__content__icon\");\r\n\r\n    if (contentIconElement === null) return;\r\n\r\n    let iconHref: string = \"/static/media/icons/windows-color-icon-info.png\";\r\n\r\n    switch (iconType) {\r\n        case \"error\":\r\n            iconHref = \"/static/media/icons/windows-color-icon-error.png\"\r\n            break;\r\n        case \"warning\":\r\n            iconHref = \"/static/media/icons/windows-color-icon-warning.png\";\r\n            break;\r\n        case \"info\":\r\n            iconHref = \"/static/media/icons/windows-color-icon-info.png\";\r\n            break;\r\n        default:\r\n            iconHref = \"/static/media/icons/windows-color-icon-info.png\";\r\n            break;\r\n    }\r\n\r\n    const imageElement = document.createElement(\"img\");\r\n    imageElement.src = iconHref;\r\n    imageElement.alt = \"Dialog\";\r\n\r\n    contentIconElement.appendChild(imageElement);\r\n}\r\n\r\nfunction setButtons(mainElement: HTMLDivElement, buttons: DialogButton[]) {\r\n\r\n    const contentTextElement: HTMLDivElement | null = mainElement.querySelector(\".dialog__modal__content__text\");\r\n\r\n    if (contentTextElement === null) return;\r\n\r\n    const buttonContainer = document.createElement(\"div\");\r\n    buttonContainer.className = \"dialog__modal__content__text__buttons\";\r\n\r\n    buttons.forEach(function (button: DialogButton) {\r\n\r\n        const spanElement = document.createElement(\"span\");\r\n\r\n        spanElement.innerHTML = `<fluent-button>${button.label}</fluent-button>`;\r\n\r\n        spanElement.querySelector<FluentButton>(\"fluent-button\")?.addEventListener(\"click\", button.onClick);\r\n\r\n        buttonContainer.appendChild(spanElement);\r\n    });\r\n\r\n    contentTextElement.appendChild(buttonContainer);\r\n}\r\n\r\ndeclare global {\r\n    interface Window {\r\n        showDialog: (title: string, message: string | string[], icon: DialogIcon, buttons: DialogButton[]) => void;\r\n        hideActiveDialog: () => void;\r\n    }\r\n}\r\n\r\nexport interface DialogButton {\r\n\tlabel: string;\r\n\tonClick: () => void;\r\n}\r\n\r\nexport type DialogIcon = \"info\" | \"warning\" | \"error\";\r\n\r\nexport function showDialog(title: string, message: string | string[], icon: DialogIcon, buttons: DialogButton[]) {\r\n\r\n    if (dialogContainer === null) return;\r\n\r\n    if (activeDialog !== null) return;\r\n\r\n    const baseElement = constructBaseDomElement();\r\n\r\n    setTitle(baseElement, title);\r\n    setMessage(baseElement, message);\r\n    setIcon(baseElement, icon);\r\n    setButtons(baseElement, buttons);\r\n\r\n    dialogContainer.appendChild(baseElement);\r\n\r\n    activeDialog = baseElement;\r\n}\r\n\r\nexport function hideActiveDialog() {\r\n\r\n    if (activeDialog === null) return;\r\n\r\n    activeDialog.remove();\r\n    activeDialog = null;\r\n}\r\n\r\nexport function initializeDialogUsage() {\r\n\r\n    window.showDialog = showDialog;\r\n    window.hideActiveDialog = hideActiveDialog;\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { hideActiveDialog, showDialog } from \"./dialog\";\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\trequestPage: (pageUrl: string) => void;\r\n\t}\r\n}\r\n\r\nconst renderContainer: HTMLDivElement | null = document.querySelector(\".content-swappable\");\r\n\r\nasync function waitFor(ms: number): Promise<void> {\r\n\treturn new Promise(function (resolve) {\r\n\t\tsetTimeout(resolve, ms);\r\n\t});\r\n}\r\n\r\n/**\r\n * Function that replaces the current title with a new one.\r\n * @param config A '<spa-config>' configuration list element\r\n * @returns {HTMLTitleElement | null}\r\n */\r\nexport function setTitle(config: HTMLElement | null): HTMLTitleElement | null {\r\n\r\n\tif (config === null) return null;\r\n\r\n\t// Get the SPA title element from the configuration.\r\n\tconst spaTitle: HTMLElement | null = config.querySelector(\"spa-title\");\r\n\r\n\t// Get the current document title.\r\n\tconst oldTitle: HTMLTitleElement | null = document.head.querySelector(\"title\");\r\n\r\n\tif (spaTitle === null || oldTitle === null) return null;\r\n\r\n\t// Creates a new DOM title element and appends the text from the SPA title to it.\r\n\tconst newTitle: HTMLTitleElement = document.createElement(\"title\");\r\n\tnewTitle.textContent = spaTitle.innerText;\r\n\r\n\t// Replace the old document title with the new one.\r\n\toldTitle.replaceWith(newTitle);\r\n\r\n\treturn newTitle;\r\n}\r\n\r\nexport function removeCurrentSpaStylesheets() {\r\n\r\n\tconst currentStylesheets: NodeListOf<HTMLLinkElement> = document.querySelectorAll(\"link\");\r\n\r\n\tfor (let stylesheet of currentStylesheets) {\r\n\r\n\t\tconst spaAttribute: string | null = stylesheet.getAttribute(\"spa-element-type\");\r\n\r\n\t\tif (spaAttribute === \"spa-stylesheet\")\r\n\t\t\tstylesheet.remove();\r\n\t}\r\n}\r\n\r\nexport function removeCurrentSpaScripts() {\r\n\r\n\tconst currentScripts: NodeListOf<HTMLScriptElement> = document.querySelectorAll(\"script\");\r\n\r\n\tfor (let stylesheet of currentScripts) {\r\n\r\n\t\tconst spaAttribute: string | null = stylesheet.getAttribute(\"spa-element-type\");\r\n\r\n\t\tif (spaAttribute === \"spa-script\")\r\n\t\t\tstylesheet.remove();\r\n\t}\r\n}\r\n\r\nexport function setStylesheets(config: HTMLElement | null) {\r\n\r\n\tif (config === null) return;\r\n\r\n\tconst spaStylesheetList: HTMLElement | null = config.querySelector(\"spa-stylesheets\");\r\n\r\n\tif (spaStylesheetList === null) return;\r\n\r\n\tremoveCurrentSpaStylesheets();\r\n\r\n\tconst spaStylesheets: NodeListOf<HTMLElement> = spaStylesheetList.querySelectorAll(\"spa-stylesheet\");\r\n\r\n\tfor (let spaStylesheet of spaStylesheets) {\r\n\r\n\t\tconst attributeNames: string[] = spaStylesheet.getAttributeNames();\r\n\r\n\t\tconst stylesheetLink: HTMLLinkElement = document.createElement(\"link\");\r\n\r\n\t\tstylesheetLink.setAttribute(\"spa-element-type\", \"spa-stylesheet\");\r\n\t\tstylesheetLink.setAttribute(\"spa-element-id\", crypto.randomUUID());\r\n\r\n\t\tfor (let attributeName of attributeNames) {\r\n\r\n\t\t\tconst spaStylesheetAttribute: string | null = spaStylesheet.getAttribute(attributeName);\r\n\r\n\t\t\tif (spaStylesheetAttribute !== null)\r\n\t\t\t\tstylesheetLink.setAttribute(attributeName, spaStylesheetAttribute);\r\n\t\t}\r\n\r\n\t\tdocument.head.appendChild(stylesheetLink);\r\n\t}\r\n}\r\n\r\nexport function setScripts(config: HTMLElement | null) {\r\n\r\n\tif (config === null) return;\r\n\r\n\tconst spaScriptsList: HTMLElement | null = config.querySelector(\"spa-scripts\");\r\n\r\n\tif (spaScriptsList === null) return;\r\n\r\n\tremoveCurrentSpaScripts();\r\n\r\n\tconst spaScripts: NodeListOf<HTMLElement> = spaScriptsList.querySelectorAll(\"spa-script\");\r\n\r\n\tfor (let spaScript of spaScripts) {\r\n\r\n\t\tconst attributeNames = spaScript.getAttributeNames();\r\n\r\n\t\tconst scriptElement: HTMLScriptElement = document.createElement(\"script\");\r\n\r\n\t\tscriptElement.setAttribute(\"spa-element-type\", \"spa-script\");\r\n\t\tscriptElement.setAttribute(\"spa-element-id\", crypto.randomUUID());\r\n\r\n\t\tfor (let attributeName of attributeNames) {\r\n\r\n\t\t\tconst spaStylesheetAttribute: string | null = spaScript.getAttribute(attributeName);\r\n\r\n\t\t\tif (spaStylesheetAttribute !== null)\r\n\t\t\t\tscriptElement.setAttribute(attributeName, spaStylesheetAttribute);\r\n\t\t}\r\n\r\n\t\tdocument.body.appendChild(scriptElement);\r\n\t}\r\n}\r\n\r\nexport function replaceChildren(contents: HTMLElement | null) {\r\n\r\n\tif (renderContainer === null || contents === null) return;\r\n\r\n\trenderContainer.replaceChildren(...contents.childNodes);\r\n}\r\n\r\nexport async function swapPageContents(newDoc: Document, response: Response) {\r\n\r\n\tif (renderContainer === null) return;\r\n\r\n\trenderContainer.classList.remove(\"fadein\");\r\n\r\n\tawait waitFor(100);\r\n\r\n\tconst documentBody: HTMLElement = newDoc.body,\r\n\t\tdocumentConfig: HTMLElement | null = documentBody.querySelector(\"spa-config\"),\r\n\t\tdocumentContent: HTMLElement | null = documentBody.querySelector(\"spa-dom-content\");\r\n\r\n\tsetTitle(documentConfig);\r\n\tsetStylesheets(documentConfig);\r\n\tsetScripts(documentConfig);\r\n\r\n\treplaceChildren(documentContent);\r\n\r\n\trenderContainer.classList.add(\"fadein\");\r\n\trenderContainer.setAttribute(\"data-url\", response.url);\r\n}\r\n\r\n\r\nexport function formatNewDocument(html: string): Document {\r\n\r\n\tconst parser = new DOMParser();\r\n\r\n\treturn parser.parseFromString(html, \"text/html\");\r\n}\r\n\r\nexport async function requestPage(pageUrl: string) {\r\n\r\n\tif (typeof window.activeDownloads !== \"undefined\") {\r\n\r\n\t\tconst activeDownloadKeys = Object.keys(window.activeDownloads);\r\n\r\n\t\tif (activeDownloadKeys.length !== 0)\r\n\t\t\treturn showDialog(\"Active download\", [\"There are still downloads active. Wait until they are succesfully done.\", `Active downloads: ${activeDownloadKeys.length}`], \"info\", [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Close dialog\",\r\n\t\t\t\t\tonClick: hideActiveDialog\r\n\t\t\t\t}\r\n\t\t\t]);\r\n\t}\r\n\t\t\r\n\tfetch(pageUrl, { method: \"GET\", headers: { \"Content-Type\": \"text/html\" } })\r\n\t\t.then(function (response: Response) {\r\n\r\n\t\t\tresponse.text()\r\n\t\t\t\t.then(function (responseText: string) {\r\n\r\n\t\t\t\t\t// if (window.history)\r\n\t\t\t\t\t\t// window.history.pushState({ switched: true }, location.href, pageUrl);\r\n\r\n\t\t\t\t\tconst formattedDocument: Document = formatNewDocument(responseText);\r\n\r\n\t\t\t\t\treturn swapPageContents(formattedDocument, response);\r\n\t\t\t\t}).catch(function (err) {\r\n\r\n\t\t\t\t\tconsole.log(err.message);\r\n\t\t\t\t});\r\n\r\n\t\t}).catch(function (err: Error) {\r\n\r\n\t\t\tconsole.log(err.message);\r\n\t\t});\r\n}\r\n\r\nwindow.requestPage = requestPage;"],"names":["dialogContainer","document","querySelector","activeDialog","showDialog","title","message","icon","buttons","baseElement","dialogElement","createElement","className","innerHTML","addEventListener","hideActiveDialog","constructBaseDomElement","mainElement","titlebarTextElement","innerText","setTitle","contentTextElement","spanElement","Array","isArray","join","appendChild","setMessage","iconType","contentIconElement","iconHref","imageElement","src","alt","setIcon","buttonContainer","forEach","button","label","onClick","setButtons","remove","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","renderContainer","swapPageContents","newDoc","response","classList","ms","Promise","resolve","setTimeout","waitFor","documentBody","body","documentConfig","documentContent","contents","config","spaTitle","oldTitle","head","newTitle","textContent","replaceWith","spaStylesheetList","currentStylesheets","querySelectorAll","stylesheet","getAttribute","removeCurrentSpaStylesheets","spaStylesheets","spaStylesheet","attributeNames","getAttributeNames","stylesheetLink","setAttribute","crypto","randomUUID","attributeName","spaStylesheetAttribute","setStylesheets","spaScriptsList","currentScripts","removeCurrentSpaScripts","spaScripts","spaScript","scriptElement","setScripts","replaceChildren","childNodes","add","url","window","requestPage","pageUrl","activeDownloads","activeDownloadKeys","keys","length","fetch","method","headers","then","text","responseText","html","DOMParser","parseFromString","catch","err","console","log"],"sourceRoot":""}